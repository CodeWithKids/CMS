import type {
  FinanceInvoice,
  Payment,
  AdjustmentRequest,
  CreditNote,
} from "@/types/finance";

const now = new Date().toISOString();
const today = now.split("T")[0];

export const DEFAULT_FINANCE_CURRENCY = "KES";

export const mockFinanceInvoices: FinanceInvoice[] = [
  {
    id: "fin-inv-1",
    payerType: "parent",
    payerId: "l1",
    learnerId: "l1",
    termId: "t1",
    programmeId: "prog1",
    trackId: "game_design",
    grossAmount: 3000,
    discountAmount: 0,
    netAmount: 3000,
    amountPaid: 1500,
    balance: 1500,
    currency: DEFAULT_FINANCE_CURRENCY,
    dueDate: "2025-03-31",
    issueDate: "2025-01-20",
    status: "partially_paid",
    createdAt: "2025-01-20T10:00:00Z",
    createdBy: "u3",
  },
  {
    id: "fin-inv-2",
    payerType: "parent",
    payerId: "l2",
    learnerId: "l2",
    termId: "t1",
    programmeId: "prog1",
    grossAmount: 2500,
    discountAmount: 250,
    netAmount: 2250,
    amountPaid: 2250,
    balance: 0,
    currency: DEFAULT_FINANCE_CURRENCY,
    dueDate: "2025-02-28",
    issueDate: "2025-01-18",
    status: "paid",
    createdAt: "2025-01-18T10:00:00Z",
    createdBy: "u3",
  },
  {
    id: "fin-inv-3",
    payerType: "organisation",
    payerId: "org2",
    organisationId: "org2",
    termId: "t1",
    programmeId: "prog1",
    grossAmount: 5000,
    discountAmount: 0,
    netAmount: 5000,
    amountPaid: 0,
    balance: 5000,
    currency: DEFAULT_FINANCE_CURRENCY,
    dueDate: "2025-02-15",
    issueDate: "2025-01-25",
    status: "overdue",
    createdAt: "2025-01-25T10:00:00Z",
    createdBy: "u3",
  },
  {
    id: "fin-inv-4",
    payerType: "organisation",
    payerId: "org3",
    organisationId: "org3",
    termId: "t1",
    grossAmount: 2500,
    discountAmount: 0,
    netAmount: 2500,
    amountPaid: 2500,
    balance: 0,
    currency: DEFAULT_FINANCE_CURRENCY,
    dueDate: "2025-02-28",
    issueDate: "2025-01-20",
    status: "paid",
    createdAt: "2025-01-20T10:00:00Z",
    createdBy: "u3",
  },
  {
    id: "fin-inv-5",
    payerType: "parent",
    payerId: "l3",
    learnerId: "l3",
    termId: "t1",
    grossAmount: 2600,
    discountAmount: 0,
    netAmount: 2600,
    amountPaid: 0,
    balance: 2600,
    currency: DEFAULT_FINANCE_CURRENCY,
    dueDate: "2025-03-31",
    issueDate: "2025-02-01",
    status: "issued",
    createdAt: "2025-02-01T10:00:00Z",
    createdBy: "u3",
  },
  {
    id: "fin-inv-6",
    payerType: "parent",
    payerId: "l1",
    learnerId: "l1",
    termId: "t1",
    grossAmount: 800,
    discountAmount: 0,
    netAmount: 800,
    amountPaid: 0,
    balance: 800,
    currency: DEFAULT_FINANCE_CURRENCY,
    dueDate: "2025-04-15",
    issueDate: "",
    status: "draft",
    createdAt: now,
    createdBy: "u3",
  },
];

export const mockFinancePayments: Payment[] = [
  {
    id: "pay-1",
    invoiceId: "fin-inv-1",
    amount: 1500,
    method: "mpesa",
    reference: "MPX123456",
    date: "2025-02-10",
    recordedBy: "u3",
    createdAt: "2025-02-10T14:00:00Z",
  },
  {
    id: "pay-2",
    invoiceId: "fin-inv-2",
    amount: 2250,
    method: "bank_transfer",
    reference: "BKT-2025-002",
    date: "2025-02-20",
    recordedBy: "u3",
    createdAt: "2025-02-20T09:00:00Z",
  },
  {
    id: "pay-3",
    invoiceId: "fin-inv-4",
    amount: 2500,
    method: "bank_transfer",
    date: "2025-02-20",
    recordedBy: "u3",
    createdAt: "2025-02-20T11:00:00Z",
  },
];

export const mockAdjustmentRequests: AdjustmentRequest[] = [
  {
    id: "adj-1",
    type: "discount",
    invoiceId: "fin-inv-2",
    discountScope: "this_invoice",
    discountAmount: 250,
    reason: "Sibling discount (second child enrolled).",
    status: "approved",
    requestedBy: "u3",
    requestedAt: "2025-01-19T10:00:00Z",
    approvedBy: "u1",
    approvedAt: "2025-01-19T14:00:00Z",
  },
  {
    id: "adj-2",
    type: "refund",
    invoiceId: "fin-inv-1",
    refundAmount: 500,
    refundApplication: "credit_for_future",
    reason: "Session cancelled – credit for next term.",
    status: "pending",
    requestedBy: "u3",
    requestedAt: "2025-02-22T11:00:00Z",
  },
  {
    id: "adj-3",
    type: "discount",
    invoiceId: "fin-inv-3",
    discountScope: "this_invoice",
    discountPercent: 10,
    reason: "Partner hardship – 10% scholarship.",
    status: "pending",
    requestedBy: "u3",
    requestedAt: "2025-02-23T09:00:00Z",
  },
];

export const mockCreditNotes: CreditNote[] = [
  {
    id: "cn-1",
    invoiceId: "fin-inv-2",
    amount: 0,
    reason: "Discount applied (sibling).",
    appliedAs: "credit_for_future",
    status: "applied_to_future",
    requestedBy: "u3",
    requestedAt: "2025-01-19T10:00:00Z",
    approvedBy: "u1",
    approvedAt: "2025-01-19T14:00:00Z",
  },
];
